<!doctype html>
<html>
  <head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta charset="utf-8" />
    <title>JoJos Partypack</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/styles.css">
  </head>
  <body>
    <canvas id="fxCanvas"></canvas>
    <div class="screen">
      <div class="card">
        <div class="row" style="align-items:flex-start;">
          <h1 class="grow">JoJos Partypack</h1>
          <div class="tabs">
            <div id="tabPlayer" class="tab active">Player</div>
            <div id="tabHost" class="tab">Host</div>
          </div>
        </div>

        <!-- Player stage -->
        <div id="playerStage" class="stage">
          <div id="playerJoinRow" class="row">
            <input id="joinCode" placeholder="Room code" class="grow" />
            <input id="playerName" placeholder="Your name" class="grow" />
            <button id="joinBtn" class="btn">Join</button>
          </div>
          <div id="playerArea" class="hidden">
            <div id="playerTimer" class="timerWrap hidden"><div class="timerBar" id="playerTimerBar"></div></div>
            <div id="playerUI"></div>
          </div>
          <div class="spacer"></div>
        </div>

        <!-- Host stage -->
        <div id="hostStage" class="stage hidden">
          <div id="hostPre" class="">
            <div class="row"><span class="pill">Pick a game to host</span></div>
            <div id="gamePickerHost"></div>
          </div>

          <!-- Back button row -->
          <div class="row">
            <button id="btnBackToList" class="btn hidden">← Back to game list</button>
          </div>

          <div id="hostLive" class="hidden">
            <div class="row">
              <span class="pill">Host</span>
              <span class="muted">Room code: <span class="big" id="roomCode"></span></span>
              <span class="muted grow"></span>
              <span class="muted">Players open: <code id="joinUrl"></code></span>
            </div>

            <!-- Compact Settings (lobby only) -->
            <div id="settingsPanel" class="item hidden">
              <div class="row">
                <span class="settings-toggle" id="settingsToggle">⚙️ Settings</span>
              </div>
              <div id="settingsBody" class="settings-grid hidden"></div>
            </div>

            <!-- Lobby -->
            <div id="lobbyBlock" class="">
              <div class="row"><span class="pill">Lobby</span> <span class="muted">VIP starts the game</span></div>
              <div id="lobbyPlayers" class="players"></div>
            </div>

            <!-- Tutorial / Round / Reveal feed -->
            <div id="hostTimer" class="timerWrap hidden"><div class="timerBar" id="hostTimerBar"></div></div>
            <div id="hostQuestion" class="question"></div>
            <div class="list" id="hostFeed"></div>

            <!-- End-of-game options -->
            <div id="endOptions" class="row hidden">
              <button id="btnSame" class="btn">Play again (same players)</button>
              <button id="btnNew" class="btn">Reset for new players</button>
              <button id="btnMenu" class="btn">Return to menu</button>
            </div>

            <div class="spacer"></div>
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="/main.js"></script>
  </body>
</html>
